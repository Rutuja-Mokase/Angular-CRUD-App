<div class="container mt-4">
  <h2 class="text-center">Edit Employee</h2>
  <form
    [formGroup]="employeeForm"
    (ngSubmit)="onSubmit()"
    class="form-container"
  >
    <!-- Name Field with Icon (Pre-populated) -->
    <div class="form-group">
      <label for="name">Name <span class="text-danger">*</span></label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text"><i class="bi bi-person"></i></span>
          <!-- Person Icon -->
        </div>
        <input
          id="name"
          formControlName="name"
          type="text"
          class="form-control"
          placeholder="Enter name"
          [value]="employeeData?.name"
        />
      </div>
    </div>

    <!-- Role Field with Icon (Pre-populated) -->
    <div class="form-group">
      <label for="role">Role <span class="text-danger">*</span></label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text"><i class="bi bi-briefcase"></i></span>
          <!-- Briefcase Icon -->
        </div>
        <select id="role" formControlName="role" class="form-control">
          <option value="" disabled>Select Role</option>
          <option
            value="Developer"
            [selected]="employeeData?.role === 'Developer'"
          >
            Developer
          </option>
          <option value="Manager" [selected]="employeeData?.role === 'Manager'">
            Manager
          </option>
          <option value="Tester" [selected]="employeeData?.role === 'Tester'">
            Tester
          </option>
        </select>
      </div>
    </div>

    <!-- From Date Field with Icon (Pre-populated) -->
    <div class="form-group">
      <label for="fromDate">From Date <span class="text-danger">*</span></label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text"
            ><i class="bi bi-calendar-date"></i
          ></span>
          <!-- Calendar Icon -->
        </div>
        <input
          id="fromDate"
          formControlName="fromDate"
          type="date"
          class="form-control"
          [min]="minToDate"
          (change)="onFromDateChange()"
          [value]="employeeData?.fromDate"
        />
      </div>
    </div>

    <!-- To Date Field with Icon -->
    <div class="form-group">
      <label for="toDate">To Date <span class="text-danger">*</span></label>
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text"
            ><i class="bi bi-calendar-date"></i
          ></span>
          <!-- Calendar Icon -->
        </div>
        <input
          id="toDate"
          type="date"
          formControlName="toDate"
          class="form-control"
          [min]="minToDate"
          (change)="validateDates()"
          [value]="employeeData?.toDate"
        />
      </div>
    </div>

    <div *ngIf="dateError" class="alert alert-danger">{{ dateError }}</div>

    <!-- Submit Button -->
    <button
      type="submit"
      class="btn btn-success mt-2"
      [disabled]="employeeForm.invalid || dateError"
    >
      Save Changes
    </button>

    <!-- Delete Button -->
    <button
      type="button"
      class="btn btn-danger mt-2"
      (click)="onDeleteEmployee()"
    >
      Delete Employee
    </button>
  </form>
</div>
